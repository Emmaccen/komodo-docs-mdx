export const title = "AtomicDEX: Non Fungible Tokens";
export const description =
  "This document describes all the methods AtomicDEX-API provides to get information and transact with NFTs";

# Non Fungible Tokens (NFTs)

The AtomicDEX API supports [ERC1155](https://www.nftstandards.wtf/Standards/ERC1155+Multi+token) and [ERC721](https://www.nftstandards.wtf/Standards/ERC721+Non+Fungible+Standard) NFTs via the [Moralis API](https://docs.moralis.io/) on the Avalanche (AVAX), BNB Smart Chain (BNB), Ethereum (ETH), Fantom (FTM), Polygon (MATIC) networks.

## NFT Information Methods

*   Get a list of your tokens with [get\_nft\_list](/atomicdex/api/v20-dev/non_fungible_tokens/#get-a-list-of-nfts)
*   Get a list of token transfers with [get\_nft\_transfers](/atomicdex/api/v20-dev/non_fungible_tokens/#get-a-list-of-nft-transfers)
*   Get token metadata with [get\_nft\_metadata](/atomicdex/api/v20-dev/non_fungible_tokens/#get-nft-metadata)

## NFT Transaction Methods

*   Withdraw ERC721 tokens with [withdraw\_nft](/atomicdex/api/v20-dev/non_fungible_tokens/#erc-721-withdraw-example)
*   Withdraw ERC1155 tokens with [withdraw\_nft](/atomicdex/api/v20-dev/non_fungible_tokens/#erc-1155-withdraw-example)

## Get a list of NFTs {{label : 'get_nft_list', tag : 'API-v2'}}

Returns a list of the NFTs owned by the user, shown in descending order of the `block_number` value (the block height when the amount or owner changed). If the request is for NFTs on more than one chain, this means that the order may not be chronological.

### Request Parameters

| Parameter           | Type    | Description                                                                                                                                       |
| ------------------- | ------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| chains              | array   | List of chains to scan for NFTs.                                                                                                                  |
| max                 | boolean | Optional, defaults to `false`. If `true`, response will return all NFTs without pagination, and will ignore the `limit` and `page_number` values. |
| limit               | integer | Optional, defaults to `10`. The number of NFTs displayed per page in response.                                                                    |
| page\_number        | integer | Optional, defaults to `1`. The page offset for items in response.                                                                                 |
| protect\_from\_spam | boolean | Optional, defaults to `false`. If `true`, any potentially spam link found in collection name, token name, symbol will be censored                 |
| filters             | object  | Optional. A standard [TokenFilter](/atomicdex/api/v20/#token-filter) object.                                                                      |

### Response Parameters

| Parameter              | Type    | Description                                                                                                                                                             |
| ---------------------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| amount                 | string  | The amount of this NFT the user owns (used by `ERC1155`).                                                                                                               |
| block\_number\_minted  | integer | The block height when the NFT was minted. May be `null`.                                                                                                                |
| block\_number          | integer | The block height when the amount or owner changed.                                                                                                                      |
| chain                  | string  | Chain name. One of `AVALANCHE`, `BSC`, `ETH`, `FANTOM`, or `POLYGON`.                                                                                                   |
| name                   | string  | May be `null`. An NFT collection name.                                                                                                                                  |
| contract\_type         | string  | The type of NFT contract standard. One of `ERC721` or `ERC1155`.                                                                                                        |
| last\_token\_uri\_sync | string  | When the token\_uri was last updated.                                                                                                                                   |
| last\_metadata\_sync   | string  | When the metadata was last updated.                                                                                                                                     |
| metadata               | string  | The metadata of the token. May be `null`.                                                                                                                               |
| minter\_address        | string  | Minter address. May be `null`.                                                                                                                                          |
| owner\_of              | string  | The wallet address of the owner of the NFT.                                                                                                                             |
| possible\_spam         | boolean | If `true`, the contract address has [been identified](https://docs.moralis.io/web3-data-api/evm/nft-spam-detection) as associated with spam or suspicious activities.   |
| possible\_phishing     | boolean | If `true`, the token has been identified as associated with phishing, as at least one of domain fields is found in database with phishing domains.            |
| symbol                 | string  | May be `null`. The symbol of the NFT contract.                                                                                                                          |
| token\_address         | string  | The address of the NFT contract.                                                                                                                                        |
| token\_id              | string  | The token ID of the NFT.                                                                                                                                                |
| token\_hash            | string  | The token hash. May be `null`.                                                                                                                                          |
| token\_uri             | string  | The URI to the metadata of the token. May be `null`.                                                                                                                    |
| token\_domain          | string  | Token domain. May be `null`.                                                                                                                                            |
| uri\_meta              | object  | A standard [TokenMetadata](/atomicdex/api/v20/#token-metadata) object.                                                                                                  |

#### ðŸ“Œ Example with no optional params

<CodeGroup title="Get a list of NFTs" tag="POST" label="get_nft_list" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "get_nft_list",
    "mmrpc": "2.0",
    "params": {
      "chains": [
        "BSC",
        "POLYGON"
      ]
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "nfts": [
        {
          "chain": "BSC",
          "token_address": "0x5c7d6712dfaf0cb079d48981781c8705e8417ca0",
          "token_id": "0",
          "amount": "1",
          "owner_of": "0xf622a6c52c94b500542e2ae6bcad24c53bc5b6a2",
          "token_hash": "b34ddf294013d20a6d70691027625839",
          "block_number_minted": 25465916,
          "block_number": 25919780,
          "contract_type": "ERC1155",
          "name": null,
          "symbol": null,
          "token_uri": "https://tikimetadata.s3.amazonaws.com/tiki_box.json",
          "token_domain": "tikimetadata.s3.amazonaws.com",
          "metadata": "{\"name\":\"Tiki box\",\"description\":\"Born to usher in Bull markets. Tiki JumpStarters are crazed guardians that worship NGU technology. Tiki guardians attach themselves to their owners to guide and protect them from the evils of the crypto industry. Manifested by the power of community and infused with unlimited creativity, the Unlockable Road Map summons powerful gifts and surprises to all Tiki Holders. Booyaaah!!\",\"external_url\":\"\",\"image\":\"https://tikimetadata.s3.amazonaws.com/tiki_box.png\",\"attributes\":[{\"trait_type\":\"Crypto Logo\",\"value\":\"TIKI NFT CRYPTOLOGO SCAR\"}],\"properties\":{\"category\":\"image\",\"creators\":[]}}",
          "last_token_uri_sync": "2023-02-07T17:10:08.402Z",
          "last_metadata_sync": "2023-02-07T17:10:16.858Z",
          "minter_address": "ERC1155 tokens don't have a single minter",
          "possible_spam": false,
          "possible_phishing": false,
          "uri_meta": {
            "image": "https://tikimetadata.s3.amazonaws.com/tiki_box.png",
            "image_url": "https://tikimetadata.s3.amazonaws.com/tiki_box.png",
            "image_domain": "tikimetadata.s3.amazonaws.com",
            "name": "Tiki box",
            "description": "Born to usher in Bull markets. Tiki JumpStarters are crazed guardians that worship NGU technology. Tiki guardians attach themselves to their owners to guide and protect them from the evils of the crypto industry. Manifested by the power of community and infused with unlimited creativity, the Unlockable Road Map summons powerful gifts and surprises to all Tiki Holders. Booyaaah!!",
            "attributes": [
              {
                "trait_type": "Crypto Logo",
                "value": "TIKI NFT CRYPTOLOGO SCAR"
              }
            ],
            "animation_url": null,
            "animation_domain": null,
            "external_url": "",
            "external_domain": null,
            "image_details": null
          }
        },
        {
          "chain": "POLYGON",
          "token_address": "0x48c75fbf0452fa8ff2928ddf46b0fe7629cca2ff",
          "token_id": "5",
          "amount": "1",
          "owner_of": "0xf622a6c52c94b500542e2ae6bcad24c53bc5b6a2",
          "token_hash": "28f970585fd743b056859a6e41f50a8e",
          "block_number_minted": 36781490,
          "block_number": 42491885,
          "type": "ERC1155",
          "name": null,
          "symbol": null,
          "token_uri": "https://app.thesmurfssociety.com/metadata/public/metadata/cauldron/5",
          "token_domain": "app.thesmurfssociety.com",
          "metadata": "{\"name\":\"Forest Mushrooms\",\"description\":\"Sweet and nutty with distinct earthy tones, these forest mushrooms will make a fine addition to all your soups, salads, and potions.\",\"image\":\"https://metadata.thesmurfssociety.com/ingredients/nft/5.Forest_Mushrooms.jpg\",\"animation_url\":null,\"external_url\":\"https://app.thesmurfssociety.com/detail/ingredients/5\",\"attributes\":[{\"trait_type\":\"Type\",\"value\":\"Ingredient\"},{\"trait_type\":\"Category\",\"value\":\"COMMON\"}]}",
          "last_token_uri_sync": "2022-12-13T13:12:50.840Z",
          "last_metadata_sync": "2023-05-15T07:30:04.882Z",
          "minter_address": "ERC1155 tokens don't have a single minter",
          "possible_spam": false,
          "possible_phishing": false,
          "uri_meta": {
            "image": "https://metadata.thesmurfssociety.com/ingredients/nft/5.Forest_Mushrooms.jpg",
            "image_url": "https://metadata.thesmurfssociety.com/ingredients/nft/5.Forest_Mushrooms.jpg",
            "image_domain": "metadata.thesmurfssociety.com",
            "name": "Forest Mushrooms",
            "description": "Sweet and nutty with distinct earthy tones, these forest mushrooms will make a fine addition to all your soups, salads, and potions.",
            "attributes": [
              {
                "trait_type": "Type",
                "value": "Ingredient"
              },
              {
                "trait_type": "Category",
                "value": "COMMON"
              }
            ],
            "animation_url": null,
            "animation_domain": null,
            "external_url": "https://app.thesmurfssociety.com/detail/ingredients/5",
            "external_domain": "app.thesmurfssociety.com",
            "image_details": null
          }
        }
      ],
      "skipped": 0,
      "total": 2
    },
    "id": null
  }
  ```
</CollapsibleSection>

#### ðŸ“Œ Example with no optional params

<CodeGroup title="Get a list of NFTs" tag="POST" label="get_nft_list" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "get_nft_list",
    "mmrpc": "2.0",
    "params": {
      "chains": [
        "BSC",
        "POLYGON"
      ],
      "limit": 1,
      "page_number": 2
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "nfts": [
        {
          "chain": "POLYGON",
          "token_address": "0x48c75fbf0452fa8ff2928ddf46b0fe7629cca2ff",
          "token_id": "5",
          "amount": "1",
          "owner_of": "0xf622a6c52c94b500542e2ae6bcad24c53bc5b6a2",
          "token_hash": "28f970585fd743b056859a6e41f50a8e",
          "block_number_minted": 36781490,
          "block_number": 42491885,
          "contract_type": "ERC1155",
          "name": null,
          "symbol": null,
          "token_uri": "https://app.thesmurfssociety.com/metadata/public/metadata/cauldron/5",
          "token_domain": "app.thesmurfssociety.com",
          "metadata": "{\"name\":\"Forest Mushrooms\",\"description\":\"Sweet and nutty with distinct earthy tones, these forest mushrooms will make a fine addition to all your soups, salads, and potions.\",\"image\":\"https://metadata.thesmurfssociety.com/ingredients/nft/5.Forest_Mushrooms.jpg\",\"animation_url\":null,\"external_url\":\"https://app.thesmurfssociety.com/detail/ingredients/5\",\"attributes\":[{\"trait_type\":\"Type\",\"value\":\"Ingredient\"},{\"trait_type\":\"Category\",\"value\":\"COMMON\"}]}",
          "last_token_uri_sync": "2022-12-13T13:12:50.840Z",
          "last_metadata_sync": "2023-05-15T07:30:04.882Z",
          "minter_address": "ERC1155 tokens don't have a single minter",
          "possible_spam": false,
          "possible_phishing": false,
          "uri_meta": {
            "image": "https://metadata.thesmurfssociety.com/ingredients/nft/5.Forest_Mushrooms.jpg",
            "image_url": "https://metadata.thesmurfssociety.com/ingredients/nft/5.Forest_Mushrooms.jpg",
            "image_domain": "metadata.thesmurfssociety.com",
            "name": "Forest Mushrooms",
            "description": "Sweet and nutty with distinct earthy tones, these forest mushrooms will make a fine addition to all your soups, salads, and potions.",
            "attributes": [
              {
                "trait_type": "Type",
                "value": "Ingredient"
              },
              {
                "trait_type": "Category",
                "value": "COMMON"
              }
            ],
            "animation_url": null,
            "animation_domain": null,
            "external_url": "https://app.thesmurfssociety.com/detail/ingredients/5",
            "external_domain": "app.thesmurfssociety.com",
            "image_details": null
          }
        }
      ],
      "skipped": 1,
      "total": 1
    },
    "id": null
  }
  ```
</CollapsibleSection>

## Get a list of NFT transfers {{label : 'get_nft_transfers', tag : 'API-v2'}}

Returns a list of the NFT transfers involving the user, shown in descending order of the `block_timestamp` value of the NFT's last transfer.

### Request Parameters

| Parameter            | Type   | Description                                                                                                                                       |
| ------------------- | ------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| chains              | array   | List of chains to scan for NFTs.                                                                                                                  |
| max                 | boolean | Optional, defaults to `false`. If `true`, response will return all NFTs without pagination, and will ignore the `limit` and `page_number` values. |
| limit               | integer | Optional, defaults to `10`. The number of NFTs displayed per page in response.                                                                    |
| page\_number        | integer | Optional, defaults to `1`. The page offset for items in response.                                                                                 |
| protect\_from\_spam | boolean | Optional, defaults to `false`. If `true`, any potentially spam link found in `collection_name`, `token_name` will be censored                     |
| filters             | object  | Optional. A standard [TokenTransferFilter](/atomicdex/api/v20/#token-transfer-filter) object.                                                     |

### Response Parameters

| Parameter          | Type    | Description                                                                                                                                                           |
| ------------------ | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| amount             | string  | Amount of tokens transferred.                                                                                                                                         |
| block\_hash        | string  | May be `null`. Hash of block in which transfer occurred.                                                                                                              |
| block\_number      | integer | Height of block in which transfer occurred.                                                                                                                           |
| block\_timestamp   | integer | Block time.                                                                                                                                                           |
| chain              | string  | Chain name. One of `AVALANCHE`, `BSC`, `ETH`, `FANTOM`, or `POLYGON`.                                                                                                 |
| token\_uri         | string  | May be `null`. The URI to the metadata of the token.                                                                                                                  |
| token\_domain      | string  | May be `null`. Extracted domain from the `token_uri`, if valid.                                                                                                       |
| collection\_name   | string  | May be `null`. Name of collection which token belongs to.                                                                                                             |
| image\_url         | string  | May be `null`. The URI to the token image.                                                                                                                            |
| image\_domain      | string  | May be `null`. Extracted domain from the `image_url`, if valid.                                                                                                       |
| token\_name        | string  | May be `null`. Name of the token.                                                                                                                                     |
| contract\_type     | string  | Contract type. `ERC721` or `ERC1155`.                                                                                                                                 |
| token\_address     | string  | Address of token transferred.                                                                                                                                         |
| token\_id          | string  | Token ID.                                                                                                                                                             |
| possible\_spam     | boolean | If `true`, the contract address has [been identified](https://docs.moralis.io/web3-data-api/evm/nft-spam-detection) as associated with spam or suspicious activities. |
| possible\_phishing | boolean | If `true`, the token has been identified as associated with phishing, as at least one of domain fields is found in database with phishing domains.                    |
| transaction\_hash  | string  | Transaction ID of the transfer.                                                                                                                                       |
| transaction\_index | string  | May be `null`. Transaction index of the transfer.                                                                                                                     |
| log\_index         | string  | Log index of the transfer.                                                                                                                                            |
| value              | string  | May be `null`. Tranfer value.                                                                                                                                         |
| transaction\_type  | string  | May be `null`. Transaction type. Possible values are `Single`.                                                                                                        |
| from\_address      | string  | Address of previous owner which sent the token(s).                                                                                                                    |
| to\_address        | string  | Address of new owner which received the token(s).                                                                                                                     |
| status             | string  | Transfer status. Will be either `Send` or `Receive`. When the `from_address` and `to_address` are the same (i.e. sending to yourself), this value will be `Receive`.  |
| verified           | integer | May be `null`.                                                                                                                                                        |
| operator           | string  | May be `null`.                                                                                                                                                        |

<DevComment>
  `verified` has no description. Related to [https://cointelegraph.com/news/nft-whale-pranksy-pranked-by-fake-banksy-for-97-7-eth](https://cointelegraph.com/news/nft-whale-pranksy-pranked-by-fake-banksy-for-97-7-eth)? Who verifies it? I can see there are ways to verify on opensea etc, I assume Moralis incormoprates this.
  What are the other possible values for `transaction_type`?
  What is `operator`?
  What does `verified` mean?
</DevComment>

#### ðŸ“Œ Example with date and `send` filters

<CodeGroup title="Get a list of NFT transfers" tag="POST" label="get_nft_transfers" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "get_nft_transfers",
    "mmrpc": "2.0",
    "params": {
      "chains": [
        "POLYGON"
      ],
      "max": true,
      "filters": {
        "send": true,
        "from_date": 1676636291
      }
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "transfer_history": [
        {
          "chain": "POLYGON",
          "block_number": 40103927,
          "block_timestamp": 1678270296,
          "block_hash": "0xdd5b1ad793332343e206ee0b566a30821ab39d1f79e921f787f1ea23b8a90dbd",
          "transaction_hash": "0xfe8d5fc480c534625d7e6fc81eadff8b8f6c986cd46f00d5993b6e21d6bd28c9",
          "transaction_index": 114,
          "log_index": 307,
          "value": "0",
          "contract_type": "ERC1155",
          "transaction_type": "Single",
          "token_address": "0x48c75fbf0452fa8ff2928ddf46b0fe7629cca2ff",
          "token_id": "5",
          "from_address": "0xf622a6c52c94b500542e2ae6bcad24c53bc5b6a2",
          "to_address": "0x6fad0ec6bb76914b2a2a800686acc22970645820",
          "status": "Send",
          "amount": "1",
          "verified": 1,
          "operator": "0xf622a6c52c94b500542e2ae6bcad24c53bc5b6a2",
          "token_uri": "https://app.thesmurfssociety.com/metadata/public/metadata/cauldron/5",
          "token_domain": "app.thesmurfssociety.com",
          "collection_name": null,
          "image_url": "https://metadata.thesmurfssociety.com/ingredients/nft/5.Forest_Mushrooms.jpg",
          "image_domain": "metadata.thesmurfssociety.com",
          "token_name": "Forest Mushrooms",
          "possible_spam": false,
          "possible_phishing": false
        }
      ],
      "skipped": 1,
      "total": 2
    },
    "id": null
  }
  ```
</CollapsibleSection>

## Get NFT Metadata {{label : 'get_nft_metadata', tag : 'API-v2'}}

### Request Parameters

| Parameter      | Type   | Description        |
| -------------- | ------ | ------------------ |
| chain          | string | The token chain.   |
| token\_address | string | The token address. |
| token\_id      | string | Token ID.          |

### Response Parameters

| Parameter              | Type    | Description                                                                                                                                                             |
| ---------------------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| amount                 | string  | The amount of this NFT the user owns (used by `ERC1155`).                                                                                                               |
| block\_number\_minted  | integer | The block height when the NFT was minted. May be `null`.                                                                                                                |
| block\_number          | integer | The block height when the amount or owner changed.                                                                                                                      |
| chain                  | string  | Chain name. One of `AVALANCHE`, `BSC`, `ETH`, `FANTOM`, or `POLYGON`.                                                                                                   |
| name                   | string  | May be `null`. An NFT collection name.                                                                                                                                  |
| contract\_type         | string  | The type of NFT contract standard. One of `ERC721` or `ERC1155`.                                                                                                        |
| last\_token\_uri\_sync | string  | When the token\_uri was last updated.                                                                                                                                   |
| last\_metadata\_sync   | string  | When the metadata was last updated.                                                                                                                                     |
| metadata               | string  | The metadata of the token. May be `null`.                                                                                                                               |
| minter\_address        | string  | Minter address. May be `null`.                                                                                                                                          |
| owner\_of              | string  | The wallet address of the owner of the NFT.                                                                                                                             |
| possible\_spam         | boolean | If `true`, the contract address has [been identified](https://docs.moralis.io/web3-data-api/evm/nft-spam-detection) as associated with spam or suspicious activities.   |
| possible\_phishing     | boolean | If `true`, the token has been identified as associated with phishing, as at least one of domain fields is found in database with phishing domains.            |
| symbol                 | string  | May be `null`. The symbol of the NFT contract.                                                                                                                          |
| token\_address         | string  | The address of the NFT contract.                                                                                                                                        |
| token\_id              | string  | The token ID of the NFT.                                                                                                                                                |
| token\_hash            | string  | The token hash. May be `null`.                                                                                                                                          |
| token\_uri             | string  | The URI to the metadata of the token. May be `null`.                                                                                                                    |
| token\_domain          | string  | Token domain. May be `null`.                                                                                                                                            |
| uri\_meta              | object  | A standard [TokenMetadata](/atomicdex/api/v20/#token-metadata) object.                                                                                                  |

#### ðŸ“Œ Example

<CodeGroup title="Get NFT Metadata" tag="POST" label="get_nft_metadata" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "get_nft_metadata",
    "mmrpc": "2.0",
    "params": {
      "token_address": "0xfd913a305d70a60aac4faac70c739563738e1f81",
      "token_id": "214300044414",
      "chain": "BSC"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "chain": "BSC",
      "token_address": "0xfd913a305d70a60aac4faac70c739563738e1f81",
      "token_id": "214300044414",
      "amount": "1",
      "owner_of": "0xf622a6c52c94b500542e2ae6bcad24c53bc5b6a2",
      "token_hash": "125f8f4e952e107c257960000b4b250e",
      "block_number_minted": 25810308,
      "block_number": 28056721,
      "contract_type": "ERC721",
      "name": "Binance NFT Mystery Box-Back to Blockchain Future",
      "symbol": "BMBBBF",
      "token_uri": "https://public.nftstatic.com/static/nft/BSC/BMBBBF/214300044414",
      "token_domain": "public.nftstatic.com",
      "metadata": "{\"image\":\"https://public.nftstatic.com/static/nft/res/4df0a5da04174e1e9be04b22a805f605.png\",\"name\":\"Nebula Nodes\",\"description\":\"Interchain nodes continuously exchange blockchain data amongst each other, supporting blockchain interoperability.\"}",
      "last_token_uri_sync": "2023-02-19T19:12:09.471Z",
      "last_metadata_sync": "2023-02-19T19:12:18.080Z",
      "minter_address": "0xdbdeb0895f3681b87fb3654b5cf3e05546ba24a9",
      "possible_spam": false,
      "possible_phishing": false,
      "uri_meta": {
        "image": "https://public.nftstatic.com/static/nft/res/4df0a5da04174e1e9be04b22a805f605.png",
        "image_url": "https://public.nftstatic.com/static/nft/res/4df0a5da04174e1e9be04b22a805f605.png",
        "name": "Nebula Nodes",
        "description": "Interchain nodes continuously exchange blockchain data amongst each other, supporting blockchain interoperability.",
        "attributes": null,
        "animation_url": null,
        "animation_domain": null,
        "external_url": null,
        "external_domain": null,
        "image_details": null
      }
    },
    "id": null
  }
  ```
</CollapsibleSection>

## Update NFT {{label : 'update_nft', tag : 'API-v2'}}

This method will query the provided url to update the information stored in the local database.

### Request Parameters

| Parameter | Type   | Description                                                                                     |
| --------- | ------ | ----------------------------------------------------------------------------------------------- |
| chains    | array  | List of chains to update NFTs for.                                                              |
| url       | string | URL link to the [Moralis API proxy base url](https://moralis-proxy.komodo.earth) or equivalent. |

<Note>
  If there are no errors, this request will return an empty response.
</Note>

#### ðŸ“Œ Example

<CodeGroup title="Update NFT" tag="POST" label="update_nft" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "update_nft",
    "mmrpc": "2.0",
    "params": {
      "chains": [
        "BSC",
        "POLYGON"
      ],
      "url": "https://moralis-proxy.komodo.earth"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
  	"mmrpc": "2.0",
  	"result": null,
  	"id": null
  }
  ```
</CollapsibleSection>

<DevComment>
  Need to add some error responses here.
</DevComment>

## Refresh NFT Metadata {{label : 'refresh_nft_metadata', tag : 'API-v2'}}

This method refreshes metadata of one NFT and metadata of related transactions with the same token\_address and token\_id.

### Request Parameters

| Parameter      | Type   | Description                                                                                                                          |
| -------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------ |
| chains         | string | Chains which holds the NFT you would like to updated metadata for.                                                                   |
| url            | string | URL link to the Moralis API proxy base url ([https://moralis-proxy.komodo.earth](https://moralis-proxy.komodo.earth)) or equivalent. |
| token\_address | string | Token address.                                                                                                                       |
| token\_id      | string | Token ID.                                                                                                                            |

<Note>
  If there are no errors, this request will return an empty response.
</Note>

#### ðŸ“Œ Example

<CodeGroup title="Refresh NFT Metadata" tag="POST" label="refresh_nft_metadata" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "refresh_nft_metadata",
    "mmrpc": "2.0",
    "params": {
      "token_address": "0x48c75fbf0452fa8ff2928ddf46b0fe7629cca2ff",
      "token_id": "5",
      "chain": "POLYGON",
      "url": "https://moralis-proxy.komodo.earth"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  <Note>
    If there are no errors, this request will return an empty response.
  </Note>

  ```json
  {
  	"mmrpc": "2.0",
  	"result": null,
  	"id": null
  }
  ```
</CollapsibleSection>

<DevComment>
  Need to add some error responses here.
</DevComment>

## Withdraw NFTs {{label : 'withdraw_nft', tag : 'API-v2'}}

<Note>
  To withdraw NFTs, you must [activate the coin](/atomicdex/api/legacy/coin_activation/) which holds the NFTs first.
</Note>

### Request Parameters

| Parameter      | Type   | Description                                                                 |
| -------------- | ------ | --------------------------------------------------------------------------- |
| withdraw\_type | object | A standard [WithdrawNftType](/atomicdex/api/v20/#withdraw-nft-type) object. |

### Response Parameters

| Parameter         | Type    | Description                                                                                                                                              |
| ----------------- | ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| amount            | string  | Amount of tokens to withdraw.                                                                                                                            |
| tx\_hex           | string  | Raw hex of signed transaction. Use this with the [send\_raw\_transaction](/atomicdex/api/legacy/send_raw_transaction/) RPC to broadcast the transaction. |
| tx\_hash          | string  | Transaction ID of the withdrawl.                                                                                                                         |
| from              | array   | List of source addresses.                                                                                                                                |
| to                | array   | List of destination addresses.                                                                                                                           |
| contract\_type    | string  | Contract type. `ERC721` or `ERC1155`.                                                                                                                    |
| token\_address    | string  | Token address.                                                                                                                                           |
| token\_id         | string  | Token ID.                                                                                                                                                |
| fee\_details      | object  | A standard [WithdrawFee](/atomicdex/api/v20/#withdraw-fee) object.                                                                                       |
| coin              | string  | Coin name. One of `AVALANCHE`, `BSC`, `ETH`, `FANTOM`, or `POLYGON`.                                                                                     |
| block\_height     | integer | Block height of the transaction. If the value is `0`, the transaction is unconfirmed.                                                                    |
| timestamp         | integer | Timestamp of the block containing the withdrawl transaction.                                                                                             |
| internal\_id      | integer | Used for internal transaction identification, for some coins it may be equal to transaction hash.                                                        |
| transaction\_type | string  | This will always be `NftTransfer`.                                                                                                                       |

<Note>
  When the `type` value in `WithdrawType` is `withdraw_erc721` it means the NFT is absolutely unique - it has only 1 owner and the owner can own only 1 NFT which has this `token_id` in its `token_address` (also referred to as contract address).
  When the `type` value in `WithdrawType` is `withdraw_erc1155`, it means that it is possible for more than 1 user to own one or more of the same NFT (with an identical `token_id`).
  Due to this difference, the `amount` and `max` fields are only used the `type` value in `WithdrawType` is `withdraw_erc1155`.
</Note>

#### ðŸ“Œ ERC721 Withdraw Example

<CodeGroup title="Withdraw NFTs" tag="POST" label="withdraw_nft" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "withdraw_nft",
    "mmrpc": "2.0",
    "params": {
      "url": "https://moralis-proxy.komodo.earth",
      "withdraw_type": {
        "type": "withdraw_erc721",
        "withdraw_data": {
          "chain": "BSC",
          "to": "0x6FAD0eC6bb76914b2a2a800686acc22970645820",
          "token_address": "0xfd913a305d70a60aac4faac70c739563738e1f81",
          "token_id": "214300044414"
        }
      }
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "tx_hex": "f8ca0c84b2d05e008301acab94fd913a305d70a60aac4faac70c739563738e1f8180b86442842e0e000000000000000000000000f622a6c52c94b500542e2ae6bcad24c53bc5b6a20000000000000000000000006fad0ec6bb76914b2a2a800686acc2297064582000000000000000000000000000000000000000000000000000000031e5472c7e8194a07eaa06fe70087b8fef9774472c3bc72ad4c6814ea1fac6515a45987864892f0ca05806e069db608f26f7442595815fbe04f117f10171557e7228d354d0e2f2ac05",
      "tx_hash": "5d93549408b3bae1c7a03fcc37a7cb7cca37b141de9119c2b87cff1d540507d7",
      "from": [
        "0xf622a6C52C94b500542E2AE6bcAD24C53Bc5b6a2"
      ],
      "to": [
        "0x6FAD0eC6bb76914b2a2a800686acc22970645820"
      ],
      "contract_type": "ERC721",
      "token_address": "0xfd913a305d70a60aac4faac70c739563738e1f81",
      "token_id": "214300044414",
      "amount": "1",
      "fee_details": {
        "type": "Eth",
        "coin": "BNB",
        "gas": 109739,
        "gas_price": "0.000000003",
        "total_fee": "0.000329217"
      },
      "coin": "BNB",
      "block_height": 0,
      "timestamp": 1684239228,
      "internal_id": 0,
      "transaction_type": "NftTransfer"
    },
    "id": null
  }
  ```
</CollapsibleSection>

#### ðŸ“Œ ERC1155 Withdraw Example

If you are sending 2 or more NFTs, you must use the `withdraw_erc1155` withdraw type.

<CodeGroup title="Withdraw NFTs" tag="POST" label="withdraw_nft" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "withdraw_nft",
    "mmrpc": "2.0",
    "params": {
      "url": "https://moralis-proxy.komodo.earth",
      "withdraw_type": {
        "type": "withdraw_erc1155",
        "withdraw_data": {
          "chain": "POLYGON",
          "to": "0x6FAD0eC6bb76914b2a2a800686acc22970645820",
          "token_address": "0x48c75fbf0452fa8ff2928ddf46b0fe7629cca2ff",
          "token_id": "5",
          "amount": "2"
        }
      }
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "tx_hex": "f9014c058523e0723b1b830109b49448c75fbf0452fa8ff2928ddf46b0fe7629cca2ff80b8e4f242432a000000000000000000000000f622a6c52c94b500542e2ae6bcad24c53bc5b6a20000000000000000000000006fad0ec6bb76914b2a2a800686acc229706458200000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000023078000000000000000000000000000000000000000000000000000000000000820136a04fe9a78bcc8f2f859b5ee686369d3d7655cee2646eb78c1d16d8794679b5b907a01804d88b721afcc4721dda00eee2562f433c5bb28ad3bbf4d0e5d70bc0e18ff3",
      "tx_hash": "337b217448662694ca59ab0840e3f22e422b68fd8e3b52424eb9052f6b150d5c",
      "from": [
        "0xf622a6C52C94b500542E2AE6bcAD24C53Bc5b6a2"
      ],
      "to": [
        "0x6FAD0eC6bb76914b2a2a800686acc22970645820"
      ],
      "contract_type": "ERC1155",
      "token_address": "0x48c75fbf0452fa8ff2928ddf46b0fe7629cca2ff",
      "token_id": "5",
      "amount": "2",
      "fee_details": {
        "type": "Eth",
        "coin": "MATIC",
        "gas": 68020,
        "gas_price": "0.000000154089437979",
        "total_fee": "0.01048116357133158"
      },
      "coin": "MATIC",
      "block_height": 0,
      "timestamp": 1684241604,
      "internal_id": 0,
      "transaction_type": "NftTransfer"
    },
    "id": null
  }
  ```
</CollapsibleSection>

#### ðŸ“Œ ERC1155 Withdraw Max Example

If you would like to withdraw all NFTs from a token\_address, you must use the `withdraw_erc1155` withdraw type and set `max` to `true`.

<CodeGroup title="Withdraw NFTs" tag="POST" label="withdraw_nft" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "testpsw",
    "method": "withdraw_nft",
    "mmrpc": "2.0",
    "params": {
      "url": "https://moralis-proxy.komodo.earth",
      "withdraw_type": {
        "type": "withdraw_erc1155",
        "withdraw_data": {
          "chain": "POLYGON",
          "to": "0x6FAD0eC6bb76914b2a2a800686acc22970645820",
          "token_address": "0x48c75fbf0452fa8ff2928ddf46b0fe7629cca2ff",
          "token_id": "5",
          "max": true
        }
      }
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "tx_hex": "f9014c05851ff0bd48fd830109b49448c75fbf0452fa8ff2928ddf46b0fe7629cca2ff80b8e4f242432a000000000000000000000000f622a6c52c94b500542e2ae6bcad24c53bc5b6a20000000000000000000000006fad0ec6bb76914b2a2a800686acc229706458200000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000023078000000000000000000000000000000000000000000000000000000000000820135a02ba2e28c3ff90713ff74b73f76b5db609e2329c3322253cff4646609ea0280d0a03fcf71754cff41f2f785533d7d74b126f7b3d46d09550a17a8dc48381b01c54c",
      "tx_hash": "8a98473681e66372ef87a1f40ccf145023ca1f5667560763a9a2e62403feeb83",
      "from": [
        "0xf622a6C52C94b500542E2AE6bcAD24C53Bc5b6a2"
      ],
      "to": [
        "0x6FAD0eC6bb76914b2a2a800686acc22970645820"
      ],
      "contract_type": "ERC1155",
      "token_address": "0x48c75fbf0452fa8ff2928ddf46b0fe7629cca2ff",
      "token_id": "5",
      "amount": "2",
      "fee_details": {
        "type": "Eth",
        "coin": "MATIC",
        "gas": 68020,
        "gas_price": "0.000000137182923005",
        "total_fee": "0.0093311824228001"
      },
      "coin": "MATIC",
      "block_height": 0,
      "timestamp": 1684241781,
      "internal_id": 0,
      "transaction_type": "NftTransfer"
    },
    "id": null
  }
  ```
</CollapsibleSection>

<Note>
  View the source code at: [https://github.com/KomodoPlatform/atomicDEX-API/blob/add-nft-cache-support/mm2src/coins/nft.rs](https://github.com/KomodoPlatform/atomicDEX-API/blob/add-nft-cache-support/mm2src/coins/nft.rs)
</Note>
