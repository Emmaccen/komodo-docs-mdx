export const title = "Komodo DeFi SDK Common Structures: Orders";
export const description = "Each order on the Komodo Defi oderbook can be queried to view full details of each order for a pair, or the best orders for a ticker.";

# Order Structures

### CancelBy

| Structure   | Type   | Description                                                                                                                      |
| ----------- | ------ | -------------------------------------------------------------------------------------------------------------------------------- |
| type        | string | `All` to cancel all orders; `Pair` to cancel all orders for specific coin pairs; `Coin` to cancel all orders for a specific coin |
| data        | object | additional data the cancel condition; present with `Pair` and `Coin` types                                                       |
| data.base   | string | base coin of the pair; `Pair` type only                                                                                          |
| data.rel    | string | rel coin of the pair; `Pair` type only                                                                                           |
| data.ticker | string | order is cancelled if it uses `ticker` as base or rel; `Coin` type only                                                          |

<CollapsibleSection expandedText="Hide Examples" collapsedText="Show Examples">
  To cancel all orders for a specific coin:

  ```json
  {
    "type": "Coin",
    "data": {
      "ticker": "DOC"
    }
  }
  ```

  To cancel all orders for a specific pair:

  ```json
  {
    "type": "Pair",
    "data": {
        "base": "DOC",
        "rel": "MARTY"
    }
  }
  ```
</CollapsibleSection>

### ConfSettings

| Structure   | Type   | Description                                                                                                                                                                     |
| ----------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| base\_confs | number | Number of required confirmations on the base coin's blockchain for a transaction to complete an atomic swap event.                                                              |
| base\_nota  | bool   | Whether [dPoW notarization](https://komodoplatform.com/en/blog/dpow-demystified/) is required on the base coin's blockchain for a transaction to complete an atomic swap event. |
| rel\_confs  | number | Number of required confirmations on the rel coin's blockchain for a transaction to complete an atomic swap event.                                                               |
| rel\_nota   | bool   | Whether [dPoW notarization](https://komodoplatform.com/en/blog/dpow-demystified/) is required on the rel coin's blockchain for a transaction to complete an atomic swap event.  |

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  ```json
  {
    "conf_settings": {
      "base_confs": 2,
      "base_nota": true,
      "rel_confs": 5,
      "rel_nota": false
    }
  }
  ```
</CollapsibleSection>

### OrderType

| Structure | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                           |
| --------- | ------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| type      | string | There are two types from which to choose: `GoodTillCancelled` and `FillOrKill`. The `GoodTillCancelled` order is automatically converted to a `maker` order if the order is not matched in 30 seconds, and this `maker` order stays in the orderbook until explicitly cancelled. On the other hand, a `FillOrKill` order is cancelled if it is not matched within 30 seconds. The default type is `GoodTillCancelled` |

<CollapsibleSection expandedText="Hide Examples" collapsedText="Show Examples">
  `GoodTillCancelled` orders will remain on the orderbook until they are exhausted or explicitly cancelled.

  ```json
    {
      "order_type": {
        "type": "GoodTillCancelled"
      }
    }
  ```

  `FillOrKill` orders will be automatically cancelled if they are not matched within 60 seconds.

  ```json
    {
      "order_type": {
        "type": "FillOrKill"
      }
    }
  ```
</CollapsibleSection>

### TickerBestOrderV1

| Structure                   | Type             | Description                                                                                                                             |
| --------------------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| coin                        | string           | the ticker of the coin                                                                                                                  |
| address                     | string           | the address offering the trade                                                                                                          |
| price                       | string (decimal) | the price the user is willing to buy or sell per one unit of the coin from request                                                      |
| price\_rat                  | rational         | the price represented as a standard [RationalValue](/atomicdex/api/common_structures/#rational-value) object.                           |
| price\_fraction             | object           | the price represented as a standard [FractionalValue](/atomicdex/api/common_structures/#fractional-value) object.                       |
| maxvolume                   | string (decimal) | the maximum amount of `base` the offer provider is willing to sell                                                                      |
| max\_volume\_rat            | rational         | the max volume represented as a standard [RationalValue](/atomicdex/api/common_structures/#rational-value) object.                      |
| max\_volume\_fraction       | object           | the max volume represented as a standard [FractionalValue](/atomicdex/api/common_structures/#fractional-value) object.                  |
| min\_volume                 | string (decimal) | the minimum amount of `base` coin the offer provider is willing to sell                                                                 |
| min\_volume\_rat            | rational         | the min volume represented as a standard [RationalValue](/atomicdex/api/common_structures/#rational-value) object.                      |
| min\_volume\_fraction       | object           | the min volume represented as a standard [FractionalValue](/atomicdex/api/common_structures/#fractional-value) object.                  |
| pubkey                      | string           | the pubkey of the offer provider                                                                                                        |
| age                         | number           | the age of the offer (in seconds)                                                                                                       |
| zcredits                    | number           | the zeroconf deposit amount (deprecated)                                                                                                |
| netid                       | number           | the id of the network on which the request is made (default is `0`)                                                                     |
| uuid                        | string           | the uuid of order                                                                                                                       |
| is\_mine                    | bool             | whether the order is placed by me                                                                                                       |
| base\_max\_volume           | string (decimal) | the maximum amount of `base` coin the offer provider is willing to buy or sell                                                          |
| base\_max\_volume\_rat      | rational         | the `base_max_volume` represented as a standard [RationalValue](/atomicdex/api/common_structures/#rational-value) object.               |
| base\_max\_volume\_fraction | object           | the `base_max_volume` represented as a standard [FractionalValue](/atomicdex/api/common_structures/#fractional-value) object.           |
| base\_min\_volume           | string (decimal) | the minimum amount of `base` coin the offer provider is willing to buy or sell                                                          |
| base\_min\_volume\_rat      | rational         | the `base_min_volume` represented as a standard [RationalValue](/atomicdex/api/common_structures/#rational-value) object.               |
| base\_min\_volume\_fraction | object           | the `base_min_volume` represented as a standard [FractionalValue](/atomicdex/api/common_structures/#fractional-value) object.           |
| base\_confs                 | number           | the confirmations settings of `base` coin set by the offer provider                                                                     |
| base\_nota                  | bool             | the notarisation settings of `base` coin set by the offer provider                                                                      |
| rel\_max\_volume            | string (decimal) | the maximum amount of `rel` coin the offer provider is willing to buy or sell                                                           |
| rel\_max\_volume\_rat       | rational         | the `rel_max_volume` max volume represented as a standard [RationalValue](/atomicdex/api/common_structures/#rational-value) object.     |
| rel\_max\_volume\_fraction  | object           | the `rel_max_volume` max volume represented as a standard [FractionalValue](/atomicdex/api/common_structures/#fractional-value) object. |
| rel\_min\_volume            | string (decimal) | the minimum amount of `rel` coin the offer provider is willing to buy or sell                                                           |
| rel\_min\_volume\_rat       | rational         | the `rel_min_volume` represented as a standard [RationalValue](/atomicdex/api/common_structures/#rational-value) object.                |
| rel\_min\_volume\_fraction  | object           | the `rel_min_volume` represented as a standard [FractionalValue](/atomicdex/api/common_structures/#fractional-value) object.            |
| rel\_confs                  | number           | the confirmations settings of `rel` coin set by the offer provider                                                                      |
| rel\_nota                   | bool             | the notarisation settings of `rel` coin set by the offer provider                                                                       |
| original\_tickers           | list (string)    | Tickers included in response when `orderbook_ticker` is configured for the queried coin in `coins` file                                 |

## MatchBy

| Structure | Type             | Description                                                                                                                  |
| --------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| type      | string           | `Any` to match with any other order; `Orders` to select specific uuids; `Pubkeys` to select specific nodes; default is `Any` |
| data      | array of strings | A list of order uuids (to match for `Orders` type) or pubkeys of nodes (to match for `Pubkeys` type)                         |

<CollapsibleSection expandedText="Hide Examples" collapsedText="Show Examples">
  ```json
      "match_by": {
        "type": "Pubkeys",
        "data": [
          "0261eef15cbc141f555aff1aa40fb21de17a0a9e6897eee18c14c6032586b456b3",
          "036879df230663db4cd083c8eeb0f293f46abc460ad3c299b0089b72e6d472202c"        
        ]
      }
  ```

  Match by order uuids:

  ```json
      "match_by": {
        "type": "Orders",
        "data": [
          "6f65968f-e3c6-4978-98c5-5cec2bb5aa5b",
          "07ce08bf-3db9-4dd8-a671-854affc1b7a3"
        ]
      }
  ```
</CollapsibleSection>
